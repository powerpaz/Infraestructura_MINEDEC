:root{--bg:#0b1220;--panel:#111a2b;--muted:#9bb0d1;--text:#e8eef9;--accent:#4cc9f0;--chip:#1b2640}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:var(--bg);color:var(--text);font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
#app{display:grid;grid-template-columns:340px 1fr;min-height:100vh;height:100%}
aside{background:var(--panel);padding:14px 14px 20px;border-right:1px solid #1e2a44;overflow:auto}
header{display:flex;align-items:center;gap:10px;margin-bottom:8px}
header h1{font-size:18px;margin:0;line-height:1.2}
.tag{background:var(--chip);color:var(--muted);padding:2px 8px;border-radius:999px;font-size:12px}
.hint{color:var(--muted);font-size:12px;margin:6px 0 10px}
.section{background:#0e1728;border:1px solid #1e2a44;border-radius:14px;margin-bottom:12px;overflow:hidden}
.section summary{cursor:pointer;list-style:none;padding:12px 14px;font-weight:600;color:var(--accent)}
.section summary::-webkit-details-marker{display:none}
.section .body{padding:10px 14px 14px}
.grid{display:grid;grid-template-columns:1fr 1fr;gap:8px}
label{font-size:12px;color:var(--muted)}
select,input[type="text"]{width:100%;padding:8px 10px;border-radius:10px;border:1px solid #203154;background:#0b1424;color:var(--text)}
.controls{display:flex;flex-direction:column;gap:8px;margin-top:8px}
button{border:0;border-radius:10px;padding:8px 10px;background:var(--accent);color:#00202b;font-weight:700;cursor:pointer}
button.secondary{background:#1b3555;color:var(--text);border:1px solid #2a4874}
.chk{display:flex;align-items:center;gap:8px;font-size:13px;color:var(--muted)}
.legend{display:flex;flex-wrap:wrap;gap:6px;margin-top:6px}
.pill{display:inline-flex;align-items:center;gap:6px;padding:4px 8px;border-radius:999px;background:var(--chip);border:1px solid #22365a;font-size:12px;color:var(--muted)}
.dot{width:10px;height:10px;border-radius:999px}
main{height:100%}
#map{height:100%;min-height:100vh;width:100%}
.leaflet-popup-content{font-size:13px}
.popup-title{font-weight:800;margin-bottom:2px}
.popup-grid{display:grid;grid-template-columns:auto 1fr;gap:2px 8px}
